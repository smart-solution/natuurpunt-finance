<?xml version="1.0"?>
<openerp>
    <data>

    <record model="ir.ui.view" id="natuurpunt_invoice_line_vat_form">
        <field name="name">natuurpunt.invoice.line.vat.form</field>
        <field name="model">account.invoice.line</field>
	<field name="inherit_id" ref="account.view_invoice_line_form"/> 
        <field name="arch" type="xml">
            <data>
                <field name="invoice_line_tax_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
            </data>
        </field>
    </record>
    <record model="ir.ui.view" id="natuurpunt_invoice_supplier_vat_form">
        <field name="name">natuurpunt.invoice.supplier.vat.form</field>
        <field name="model">account.invoice</field>
	<field name="inherit_id" ref="account.invoice_supplier_form"/> 
        <field name="arch" type="xml">
            <data>
				<field name="partner_id" position="replace">
	                  <field string="Supplier" name="partner_id"
	                    on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)"/>
				</field>
                <field name="invoice_line_tax_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
            </data>
        </field>
    </record>
    <record model="ir.ui.view" id="natuurpunt_invoice_customer_vat_form">
        <field name="name">natuurpunt.invoice.customer.vat.form</field>
        <field name="model">account.invoice</field>
	<field name="inherit_id" ref="account.invoice_form"/> 
        <field name="arch" type="xml">
            <data>
				<field name="partner_id" position="replace">
	                 <field string="Customer" name="partner_id"
	                      on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)"
	                      groups="base.group_user"/>
				</field>
                <field name="invoice_line_tax_id" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
            </data>
        </field>
    </record>

    <record id="view_partner_form" model="ir.ui.view">
        <field name="name">res.partner.vat.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base_vat.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='vat_info']" position="replace" version="7.0">
				<div name="vat_info">
	                <field name="vat" on_change="base_vat.vat_change(vat)" placeholder="e.g. BE0477472701" class="oe_inline"/>
	            	<button colspan="2" name="button_check_vat" string="Check Validity" type="object" icon="gtk-execute" class="oe_inline"/>
            	</div>
            	<field name="vat_subjected" class="oe_inline"/>
            </xpath>
        </field>
    </record>

    </data>
</openerp>

